(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const s=[{id:"1",nome:"Camisa La ursa",preco:45,img:"produto-1.jpg"},{id:"2",nome:"Camisa Poison",preco:45,img:"produto-2.jpg"},{id:"3",nome:"Camisa Cartoon",preco:45,img:"produto-3.jpg"},{id:"4",nome:"Camisa Mystic",preco:45,img:"produto-4.jpg"},{id:"5",nome:"Camisa Hunter Hype",preco:45,img:"produto-5.jpg"},{id:"6",nome:"Camisa Fantasy",preco:45,img:"produto-6.jpg"}];function l(e,t,i){localStorage.setItem(e,JSON.stringify(t))}function h(e){return JSON.parse(localStorage.getItem(e))}const r=h("carrinho")??{};function y(){document.getElementById("carrinho").classList.add("right-0"),document.getElementById("carrinho").classList.remove("right-[-360px]")}function C(){document.getElementById("carrinho").classList.remove("right-0"),document.getElementById("carrinho").classList.add("right-[-360px]")}function b(){Object.keys(r).length!==0&&(window.location.href=window.location.origin+"/checkout.html")}function E(){const e=document.getElementById("fechar-carrinho"),t=document.getElementById("abrir-carrinho"),i=document.getElementById("finalizar-compra");e.addEventListener("click",C),t.addEventListener("click",y),i.addEventListener("click",b)}function u(e){r[e]++,d(),l("carrinho",r),m(e)}function $(e){if(r[e]===1){p(e);return}r[e]--,d(),l("carrinho",r),m(e)}function m(e){document.getElementById(`quantidade-${e}`).innerText=r[e]}function p(e){delete r[e],d(),l("carrinho",r),g()}function f(e){const t=s.find(c=>c.id===e),i=document.getElementById("produtos-carrinho"),a=document.createElement("article"),o=["bg-[#DCCDAE]","rounded-lg","flex","relative","m-2"];for(const c of o)a.classList.add(c);const n=`<button id="limpar-item-${t.id}" class="text-[#2c4e33] absolute top-0 right-2 hover:text-[#1a301f]"><i class="fa-solid fa-circle-xmark"></i></button>
    <img src="./assets/img/${t.img}" alt="Carrinho: ${t.nome}." class="w-16 rounded-lg">
    <div class="p-2 text-slate-900 flex flex-col justify-between">
      <p>${t.nome}</p>
      <p class='opacity-50'>Tamanho: M</p>
      <p>R$${t.preco},00</p>  
    </div>
    <div class='text-slate-900 flex items-end absolute bottom-0 right-2 text-lg'>
        <button id='subtrair-quantidade-${t.id}'>-</button>
        <p id="quantidade-${t.id}" class="ml-2">${r[t.id]}</p>
        <button class='ml-2' id='adicionar-quantidade-${t.id}'>+</button>        
    </div>`;a.innerHTML=n,i.appendChild(a),document.getElementById(`subtrair-quantidade-${t.id}`).addEventListener("click",()=>$(t.id)),document.getElementById(`adicionar-quantidade-${t.id}`).addEventListener("click",()=>u(t.id)),document.getElementById(`limpar-item-${t.id}`).addEventListener("click",()=>p(t.id)),d()}function g(){const e=document.getElementById("produtos-carrinho");e.innerHTML="";for(const t in r)f(t)}function v(e){if(e in r){u(e);return}r[e]=1,l("carrinho",r),f(e)}function d(){const e=document.getElementById("preco-total");let t=0;for(const i in r)t+=s.find(a=>a.id===i).preco*r[i];e.innerText=`Total: R$${t},00`}function L(){for(const e of s){const t=`<div class="group shadow-xl shadow-[#2c4e33] w-44 m-2 p-2 flex flex-col justify-between rounded-lg" id="card-produto${e.id}">
        <img src="./assets/img/${e.img}" class="rounded-lg group-hover:scale-110 my-2  duration-300" alt="Produto ${e.id}.">
        <p>${e.nome}</p>
        <p>R$${e.preco},00</p>
        <button id="adicionar-${e.id}" class="bg-[#2c4e33] p-1 rounded-lg text-[#DCCDAE] hover:bg-[#1a301f]"><i class="fa-solid fa-cart-plus"></i></button>
    </div>`;document.getElementById("container-produtos").innerHTML+=t}for(const e of s)document.getElementById(`adicionar-${e.id}`).addEventListener("click",()=>v(e.id))}g();L();E();d();
